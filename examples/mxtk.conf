# ========= MXTK (isolated) =========
# IMPORTANT: keep prefix (no trailing slash) so Next.js with basePath '/mxtk' sees '/mxtk/...'
location /mxtk/ {
  proxy_http_version 1.1;
  proxy_set_header Host $host;
  proxy_set_header X-Forwarded-Proto $scheme;

  # WebSocket/HMR
  proxy_set_header Upgrade $http_upgrade;
  proxy_set_header Connection "upgrade";

  proxy_pass http://mxtk-site-dev:2000;
  proxy_read_timeout 300;
  proxy_send_timeout 300;
}
